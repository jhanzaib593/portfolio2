;/*FB_PKG_DELIM*/

__d("WAWebWamEnumOrderSignalType",[],(function(a,b,c,d,e,f){a=Object.freeze({CREATED:0,UPDATED:1});f.ORDER_SIGNAL_TYPE=a}),66);
__d("WAWebWamEnumOrderStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({PROCESSING:0,SHIPPED:1,COMPLETED:2,CANCELLED:3,PENDING:4,PARTIALLY_SHIPPED:5,PAID_CHANGE:6});f.ORDER_STATUS=a}),66);
__d("WAWebCtwa3pdConversionWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({Ctwa3pdConversion:[5138,{ctwa3pdConversionMetadata:[1,a.TYPES.STRING],ctwa3pdConversionSubtype:[2,a.TYPES.STRING],ctwa3pdConversionType:[3,a.TYPES.STRING],ctwa3pdSchemaVersion:[4,a.TYPES.INTEGER],ctwa3pdSurfaceType:[5,a.TYPES.STRING],ctwaTrackingPayload:[6,a.TYPES.STRING]},[1,1,1],"regular"]});g.Ctwa3pdConversionWamEvent=b}),98);
__d("WAWebCtwaOrderSignalWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumOrderSignalType","WAWebWamEnumOrderStatus"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({CtwaOrderSignal:[4264,{ctwaOrderSignalVersion:[1,a.TYPES.INTEGER],deepLinkConversionData:[2,a.TYPES.STRING],deepLinkConversionSource:[3,a.TYPES.STRING],eventSharingSettingEnabled:[4,a.TYPES.BOOLEAN],globalSharingSettingEnabled:[5,a.TYPES.BOOLEAN],orderPaid:[8,a.TYPES.BOOLEAN],orderSignalType:[6,d("WAWebWamEnumOrderSignalType").ORDER_SIGNAL_TYPE],orderStatus:[7,d("WAWebWamEnumOrderStatus").ORDER_STATUS]},[1,1,1],"regular"]});g.CtwaOrderSignalWamEvent=b}),98);
__d("WAWebSmb3pdConversionSignal",["WAWebBizGatingUtils","WAWebCommonCTWADataSharing","WAWebCtwa3pdConversionWamEvent","WAWebOrderStatus"],(function(a,b,c,d,e,f,g){var h=function(a){switch(a){case d("WAWebOrderStatus").OrderStatus.Shipped:return"shipped";case d("WAWebOrderStatus").OrderStatus.Complete:return"completed";case d("WAWebOrderStatus").OrderStatus.Canceled:return"canceled";case d("WAWebOrderStatus").OrderStatus.Processing:case d("WAWebOrderStatus").OrderStatus.Pending:case d("WAWebOrderStatus").OrderStatus.PartiallyShipped:case d("WAWebOrderStatus").OrderStatus.PreparingToShip:case d("WAWebOrderStatus").OrderStatus.PaymentRequested:case d("WAWebOrderStatus").OrderStatus.Delivered:return"processing"}};a=function(a,b,e,f){if(d("WAWebBizGatingUtils").is3pdConversionEnabled()===!1)return;e=b==="order_created"||e==null?"processing":h(e);e={ctwa3pdSchemaVersion:1,ctwa3pdConversionSubtype:e,ctwa3pdConversionType:b,ctwa3pdSurfaceType:"order"};b==="order_updated"&&f===!0&&(e.ctwa3pdConversionMetadata="paid");b=c("WAWebCommonCTWADataSharing").getCTWAEligibilityFromChat(a);b&&b.data!=null&&(e.ctwaTrackingPayload=b.data);new(d("WAWebCtwa3pdConversionWamEvent").Ctwa3pdConversionWamEvent)(e).commit()};g.log3pdConversionSignal=a}),98);
__d("WAWebSmbMarkAsXOrderAction",["WASmaxInBizSettingsEnums","WAWebBizGatingUtils","WAWebCTWADataSharingModel","WAWebCommonCTWADataSharing","WAWebCtwaOrderSignalWamEvent","WAWebOrderStatus","WAWebWamEnumOrderSignalType","WAWebWamEnumOrderStatus"],(function(a,b,c,d,e,f,g){var h=function(a){switch(a){case d("WAWebOrderStatus").OrderStatus.Processing:return d("WAWebWamEnumOrderStatus").ORDER_STATUS.PROCESSING;case d("WAWebOrderStatus").OrderStatus.Shipped:return d("WAWebWamEnumOrderStatus").ORDER_STATUS.SHIPPED;case d("WAWebOrderStatus").OrderStatus.Complete:return d("WAWebWamEnumOrderStatus").ORDER_STATUS.COMPLETED;case d("WAWebOrderStatus").OrderStatus.Canceled:return d("WAWebWamEnumOrderStatus").ORDER_STATUS.CANCELLED;case d("WAWebOrderStatus").OrderStatus.Pending:case d("WAWebOrderStatus").OrderStatus.PartiallyShipped:case d("WAWebOrderStatus").OrderStatus.PreparingToShip:case d("WAWebOrderStatus").OrderStatus.PaymentRequested:case d("WAWebOrderStatus").OrderStatus.Delivered:return null}},i=function(a){var b=d("WAWebCTWADataSharingModel").CTWADataSharingModel.getValue();b===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"]?a={globalSharingSettingEnabled:!0,eventSharingSettingEnabled:a}:b===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["false"]?a={globalSharingSettingEnabled:!1}:a=null;return a};a=function(a,b,e,f){e=h(e);if(e==null)return;a=c("WAWebCommonCTWADataSharing").getCTWAEligibilityFromChat(a);if(a==null||!d("WAWebBizGatingUtils").smbDataSharingConsentEnabled())return;f={ctwaOrderSignalVersion:1,deepLinkConversionSource:a.source,orderPaid:f,orderSignalType:d("WAWebWamEnumOrderSignalType").ORDER_SIGNAL_TYPE.UPDATED,orderStatus:e};d("WAWebBizGatingUtils").is3pdConversionEnabled()===!1&&(f.deepLinkConversionData=a.data);new(d("WAWebCtwaOrderSignalWamEvent").CtwaOrderSignalWamEvent)(babelHelpers["extends"]({},f,i(b))).commit()};b=function(a,b){a=c("WAWebCommonCTWADataSharing").getCTWAEligibilityFromChat(a);if(a==null||!d("WAWebBizGatingUtils").smbDataSharingConsentEnabled())return;var e={ctwaOrderSignalVersion:1,deepLinkConversionSource:a.source,orderPaid:!1,orderSignalType:d("WAWebWamEnumOrderSignalType").ORDER_SIGNAL_TYPE.CREATED,orderStatus:d("WAWebWamEnumOrderStatus").ORDER_STATUS.PROCESSING};d("WAWebBizGatingUtils").is3pdConversionEnabled()===!1&&(e.deepLinkConversionData=a.data);new(d("WAWebCtwaOrderSignalWamEvent").CtwaOrderSignalWamEvent)(babelHelpers["extends"]({},e,i(b))).commit()};g.markOrderAsUpdatedStatusAction=a;g.markOrderAsCreatedAction=b}),98);
__d("WAWebOrderDetailMath",["WAWebCurrencyUtils"],(function(a,b,c,d,e,f,g){var h="%",i=1e3;function j(a){if(a==="")return null;a=d("WAWebCurrencyUtils").valueFromString("USD",a)/i;return Number.isNaN(a)?0:a}function k(a){var b=a.type,c=a.value;a=a.total;c=j(c);return c==null?null:b===h?c/100*a:c}function a(a){var b=a.orderSubtotal,c=a.discountType,d=a.discountText,e=a.taxType,f=a.taxText;a=a.shippingText;c=k({type:c,value:d,total:b});e=k({type:e,value:f,total:b-((d=c)!=null?d:0)});f=j(a);d=b-((d=c)!=null?d:0)+((a=f)!=null?a:0)+((b=e)!=null?b:0);return{total:Math.trunc(d*i),tax:e==null?null:Math.trunc(e*i),shipping:f==null?null:Math.trunc(f*i),discount:c==null?null:Math.trunc(c*i)}}g.PERCENTAGE_SYMBOL=h;g.DEFAULT_OFFSET=i;g.calculateFlatAmounts=a}),98);